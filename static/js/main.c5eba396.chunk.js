(this.webpackJsonpmovies_app=this.webpackJsonpmovies_app||[]).push([[0],{44:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var c=t(0),s=t.n(c),i=t(19),n=t.n(i),r=t(5),o=(t(44),t.p+"static/media/movie-icon.6e844877.svg"),l=t(1),j=function(){return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsx)("img",{className:"header__icon",src:o,alt:"movie-icon"}),Object(l.jsx)("h1",{className:"header__title",children:"Movies app"})]})},d=t(4),b=t(14),O=t(3),m=t(12),p=t(15),u=t.n(p),g=t(21),_=t(22),v=t.n(_),h=function(e,a){return function(){var t=Object(g.a)(u.a.mark((function t(c){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:"MOVIES_LOADING"}),t.next=4,v.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=f3e3f5a585f49807aa021686153ceaf6&language=en-US&page=").concat(a));case 4:s=t.sent,c({type:"MOVIES_SUCCESS",payload:s.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),c({type:"MOVIES_FAILED"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e,a){return function(){var t=Object(g.a)(u.a.mark((function t(c){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:"MOVIE_SEARCH_LOADING"}),t.next=4,v.a.get("https://api.themoviedb.org/3/search/movie?api_key=f3e3f5a585f49807aa021686153ceaf6&language=en-US&query=".concat(e,"&page=").concat(a,"&include_adult=false"));case 4:s=t.sent,c({type:"MOVIE_SEARCH_SUCCESS",payload:s.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),c({type:"MOVIE_SEARCH_FAILED"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},x=t(13),S=t.n(x),N=t(26),M=t.n(N),E=function(e){var a=Object(m.b)(),t=Object(m.c)((function(e){return e.MoviesList})),s=Object(m.c)((function(e){return e.Search})),i=Object(c.useState)(!1),n=Object(r.a)(i,2),o=n[0],j=n[1],d=Object(c.useState)(!1),p=Object(r.a)(d,2),u=p[0],g=p[1],_=Object(c.useState)(!0),v=Object(r.a)(_,2),x=v[0],N=v[1],E=Object(O.a)({type:Object(c.useState)(""),id:Object(c.useState)(0),page:Object(c.useState)(1),searchPage:Object(c.useState)(1),search:Object(c.useState)("")},e.state||{}),y=Object(r.a)(E.type,2),I=y[0],C=y[1],k=Object(r.a)(E.id,2),w=(k[0],k[1]),D=Object(r.a)(E.page,2),A=D[0],V=D[1],L=Object(r.a)(E.searchPage,2),R=L[0],P=L[1],U=Object(r.a)(E.search,2),F=U[0],G=U[1];Object(c.useEffect)((function(){a(h(I,A)),"popular"===I?(j(!1),g(!1),N(!0)):"top_rated"===I?(j(!0),g(!1),N(!1)):"upcoming"===I&&(j(!1),g(!0),N(!1))}),[I]),Object(c.useEffect)((function(){console.log(R),a(f(F,R))}),[R]);return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("div",{className:"movie__filters",children:[Object(l.jsx)("button",{className:"movie__filter movie__filter--".concat(o?"active":""),onClick:function(e){s.data=[],C("top_rated"),V(1)},children:"Top Rated Movies"}),Object(l.jsx)("button",{className:"movie__filter movie__filter--".concat(x?"active":""),onClick:function(e){s.data=[],C("popular"),V(1)},children:"Popular Movies"}),Object(l.jsx)("button",{className:"movie__filter movie__filter--".concat(u?"active":""),onClick:function(e){s.data=[],C("upcoming"),V(1)},children:"Upcoming Movies"})]}),Object(l.jsxs)("div",{className:"search-box",children:[Object(l.jsx)("label",{htmlFor:"search",children:"Search: "}),Object(l.jsx)("input",{type:"text",placeholder:"Search Movies...",className:"search-box__input",onChange:function(e){G(e.target.value),0==e.target.value.length&&(s.data=[])}}),Object(l.jsx)("button",{className:"search-box__btn",onClick:function(){a(f(F))},children:"Search"})]}),t.loading?Object(l.jsxs)("div",{className:"loading",children:[Object(l.jsx)("h2",{children:"Loading..."}),Object(l.jsx)("div",{className:"loading__loader"})]}):""!==t.errorMessage?Object(l.jsx)("div",{className:"error-message",children:Object(l.jsx)("h1",{children:t.errorMessage})}):(console.log(F),!S.a.isEmpty(t.data)&&S.a.isEmpty(s.data)?Object(l.jsx)("div",{className:"movies",children:t.data.results.map((function(e){return Object(l.jsx)(b.b,{to:"/movie/".concat(e.id),onClick:function(a){w(e.id)},children:Object(l.jsxs)("div",{className:"movie",children:[Object(l.jsx)("img",{className:"movie__thumbnail",src:"https://image.tmdb.org/t/p/w400".concat(e.backdrop_path),alt:e.title}),Object(l.jsx)("p",{className:"movie__title",children:e.title}),Object(l.jsx)("p",{className:"movie__ratings",children:e.vote_average})]})},e.id)}))}):S.a.isEmpty(s.data)?void 0:Object(l.jsx)("div",{className:"movies",children:s.data.results.map((function(e){return Object(l.jsx)(b.b,{to:"/movie/".concat(e.id),onClick:function(a){w(e.id)},children:Object(l.jsxs)("div",{className:"movie",children:[Object(l.jsx)("img",{className:"movie__thumbnail",src:"https://image.tmdb.org/t/p/w400".concat(e.backdrop_path),alt:e.title}),Object(l.jsx)("p",{className:"movie__title",children:e.title}),Object(l.jsx)("p",{className:"movie__ratings",children:e.vote_average})]})},e.id)}))})),S.a.isEmpty(s.data)&&Object(l.jsx)(M.a,{pageCount:t.data.total_pages,pageRangeDisplayed:2,marginPagesDisplayed:1,containerClassName:"pagination",onPageChange:function(e){V(e.selected+1),a(h(I,e.selected+1))},initialPage:A-1}),!S.a.isEmpty(s.data)&&Object(l.jsx)(M.a,{pageCount:s.data.total_pages,pageRangeDisplayed:2,marginPagesDisplayed:1,containerClassName:"pagination",onPageChange:function(e){P(e.selected+1),a(f(F,e.selected+1))},initialPage:R-1})]})},y=t.p+"static/media/goto-icon.05a179ce.svg",I=function e(a){var t=Object(m.b)(),s=Object(m.c)((function(e){return e.Movie}));Object(c.useEffect)((function(){var e;t((e=a.id,function(){var a=Object(g.a)(u.a.mark((function a(t){var c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"MOVIE_LOADING"}),a.next=4,v.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=f3e3f5a585f49807aa021686153ceaf6&language=en-US"));case 4:c=a.sent,t({type:"MOVIE_SUCCESS",payload:c.data,movieID:e}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({type:"MOVIE_FAILED"});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()))}),[]);return Object(l.jsx)("div",{children:function(){if(s.loading)return Object(l.jsxs)("div",{className:"loading",children:[Object(l.jsx)("h2",{children:"Loading..."}),Object(l.jsx)("div",{className:"loading__loader"})]});if(""!==s.errorMessage)return Object(l.jsx)("div",{className:"error-message",children:Object(l.jsx)("h1",{children:e.errorMessage})});if(!S.a.isEmpty(s.data)){var a=s.data;return console.log(a),Object(l.jsxs)("div",{className:"single_movie",children:[Object(l.jsx)("img",{className:"single_movie__image",src:"https://image.tmdb.org/t/p/original".concat(a.poster_path)}),Object(l.jsxs)("div",{className:"single_movie__infos",children:[Object(l.jsx)("h1",{className:"single_movie__title",children:a.title}),Object(l.jsxs)("p",{className:"single_movie__info",children:["Description: ",a.overview]}),Object(l.jsxs)("div",{className:"single_movie__info-box",children:[Object(l.jsxs)("div",{className:"single_movie__info",children:["Genres:",a.genres.map((function(e,a){return Object(l.jsx)("p",{children:e.name},a)}))]}),Object(l.jsxs)("p",{className:"single_movie__info",children:["Status: ",a.status]}),Object(l.jsxs)("p",{className:"single_movie__info",children:["Release date: ",a.release_date]}),Object(l.jsxs)("p",{className:"single_movie__info",children:["Runtime: ",Math.round(a.runtime/60*100)/100," h"]})]}),Object(l.jsxs)("div",{className:"single_movie__info-box",children:[Object(l.jsxs)("p",{className:"single_movie__info",children:["Budget: $",a.budget/1e6," million"]}),Object(l.jsxs)("p",{className:"single_movie__info",children:["Revenue: $",a.revenue]}),Object(l.jsxs)("p",{className:"single_movie__info",children:["Ratings: ",a.vote_average]}),Object(l.jsxs)("a",{className:"single_movie__info",href:a.homepage,children:[Object(l.jsx)("img",{src:y,alt:"go to website",className:"single_movie__icon"}),"Go to website"]})]}),Object(l.jsxs)("div",{className:"single_movie__info",children:["Production:",a.production_companies.map((function(e,a){return Object(l.jsx)("p",{children:e.name},a)}))]})]})]})}}()})},C=t.p+"static/media/back-icon.675f966b.svg";var k=function(){var e=Object(c.useState)("popular"),a=Object(r.a)(e,2),t=a[0],s=a[1],i=Object(c.useState)(),n=Object(r.a)(i,2),o=n[0],O=n[1],m=Object(c.useState)(),p=Object(r.a)(m,2),u=p[0],g=p[1],_=Object(c.useState)(),v=Object(r.a)(_,2),h=v[0],f=v[1],x=Object(c.useState)(),S=Object(r.a)(x,2),N=S[0],M=S[1];return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(d.d,{children:[Object(l.jsxs)(d.b,{path:"/movies_app/".concat(t),exact:!0,component:E,children:[Object(l.jsx)(j,{}),Object(l.jsx)(E,{state:{type:[t,s],id:[o,O],page:[u,g],searchPage:[h,f],search:[N,M]}})]}),Object(l.jsxs)(d.b,{path:"/movie/:movie",exact:!0,component:I,children:[Object(l.jsxs)(b.c,{className:"go_back",to:"/",children:[Object(l.jsx)("img",{className:"go_back__icon",src:C,alt:"go_back_icon"}),"Back to Movies"]}),Object(l.jsx)(I,{id:o})]}),Object(l.jsx)(d.a,{to:"/movies_app/".concat(t)})]})})},w=t(11),D=t(38),A=t(39),V={loading:!1,data:[],errorMessage:""},L={loading:!1,data:{},errorMessage:""},R={loading:!1,data:[],errorMessage:""},P=Object(w.combineReducers)({MoviesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"MOVIES_LOADING":return Object(O.a)(Object(O.a)({},e),{},{loading:!0,errorMessage:""});case"MOVIES_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,data:a.payload,errorMessage:""});case"MOVIES_FAILED":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,errorMessage:"Sorry! There was an error!"});default:return e}},Movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,a=arguments.length>1?arguments[1]:void 0;switch(e.data={},a.type){case"MOVIE_LOADING":return Object(O.a)(Object(O.a)({},e),{},{loading:!0,errorMessage:""});case"MOVIE_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,errorMessage:"",data:a.payload});case"MOVIE_FAILED":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,errorMessage:"Sorry! There was an error!"});default:return e}},Search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"MOVIE_SEARCH_LOADING":return Object(O.a)(Object(O.a)({},e),{},{loading:!0,errorMessage:""});case"MOVIE_SEARCH_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,data:a.payload,errorMessage:""});case"MOVIE_SEARCH_FAILED":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,errorMessage:"Sorry! There was an error!"});default:return e}}}),U=Object(w.createStore)(P,Object(D.composeWithDevTools)(Object(w.applyMiddleware)(A.a)));n.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(b.a,{children:Object(l.jsx)(m.a,{store:U,children:Object(l.jsx)(k,{})})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.c5eba396.chunk.js.map